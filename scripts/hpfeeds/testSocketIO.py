#!/usr/bin/env python

import os
import sys
import time

if __name__ == '__main__':

    sPath = os.path.dirname(os.path.realpath(__file__))+'/'
    sys.path.append(sPath+'../../../lib/python2.7/site-packages/')

    from socketIO_client import SocketIO

    info = {"id": "26.9604492_38.2381801", "country": "TUR", "city": "Izmir",
            "longitude": 26.9604492, "latitude": 38.2381801}
    coordinate = "{ \"id\":\"%s\", \"country\":\"%s\", \"city\":\"%s\", \"x\": %f, \"y\": %f}"\
                 % (info['id'], info['country'], info['city'], info['longitude'], info['latitude'])

    socketIO = SocketIO('127.0.0.1', 80)
    chatSocket = socketIO.connect('/new-event')

    for x in range(0, 100):
        chatSocket.emit('update', coordinate)
        time.sleep(0.2)
        print coordinate
