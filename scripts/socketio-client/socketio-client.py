#!/usr/bin/python

from socketIO_client import SocketIO, BaseNamespace


class Namespace(BaseNamespace):

    def on_connect(self, _socketIO):
        print '[Connected]'
        self.socketIO.emit('subscribe', {'my': 'mynick'})

    def on_disconnect(self):
        print '[Disconnected]'

    def on_error(self, name, message):
        print '[Error] %s: %s' % (name, message)

    def on_message(self, id, message):
        print '[Message] %s: %s' % (id, message)

    def on_welcome(self, id, message):
        print '[Welcome] %s: %s' % (id, message)

    def on_subscribe(self, id, message):
        print '[Welcome] %s: %s' % (id, message)
    
    def on_test(self, message):
        print '[Test] message: %s' % message

socketIO = SocketIO('127.0.0.1', 8000)
chatSocket = socketIO.connect('/chat', Namespace)
socketIO.wait()
